#include<iostream>
#include<stdio.h>
using namespace std;
int main(){
    int n,m;
    cin>>n>>m;
    char a[3][n*3],b[3][m*3];
    for(int i=0;i<3;i++){
        for(int j=0;j<n*3;j++){
            a[i][j]=' ';
        }
        for(int j=0;j<m*3;j++){
            b[i][j]=' ';
        }
    }
    for(int i=0;i<3;i++)gets(a[i]);
    for(int i=0;i<3;i++)gets(b[i]);
    long long int sum1=0,sum2=0;
    int digit =1,h=1;
    for(int i = 3*n-1;i>=0;i-=3){
        if(a[1][i]=='|'&&a[2][i]=='|'&&a[0][i-1]=='_'&&a[1][i-2]=='|'&&a[1][i-1]=='_'&&a[2][i-2]=='|'&&a[2][i-1]=='_')sum1+=digit*8;
        else if(a[1][i]=='|'&&a[2][i]=='|'&&a[0][i-1]=='_'&&a[1][i-2]=='|'&&a[1][i-1]=='_'&&a[2][i-1]=='_')sum1+=digit*9;
        else if(a[1][i]=='|'&&a[2][i]=='|'&&a[0][i-1]=='_'&&a[1][i-2]=='|'&&a[2][i-2]=='|'&&a[2][i-1]=='_')sum1+=digit*0;
        else if(a[1][i]=='|'&&a[2][i]!='|'&&a[0][i-1]=='_'&&a[1][i-1]=='_'&&a[2][i-2]=='|'&&a[2][i-1]=='_')sum1+=digit*2;
        else if(a[1][i]=='|'&&a[2][i]=='|'&&a[0][i-1]=='_'&&a[1][i-2]!='|'&&a[1][i-1]=='_'&&a[2][i-1]=='_')sum1+=digit*3;
        else if(a[1][i]!='|'&&a[2][i]=='|'&&a[0][i-1]=='_'&&a[1][i-2]=='|'&&a[1][i-1]=='_'&&a[2][i-2]=='|'&&a[2][i-1]=='_')sum1+=digit*6;
        else if(a[1][i]!='|'&&a[2][i]=='|'&&a[0][i-1]=='_'&&a[1][i-2]=='|'&&a[1][i-1]=='_'&&a[2][i-2]!='|'&&a[2][i-1]=='_')sum1+=digit*5;
        else if(a[1][i]=='|'&&a[2][i]=='|'&&a[0][i-1]!='_'&&a[1][i-2]=='|'&&a[1][i-1]=='_'&&a[2][i-1]!='_')sum1+=digit*4;
        else if(a[1][i]=='|'&&a[2][i]=='|'&&a[0][i-1]=='_'&&a[1][i-2]!='|'&&a[1][i-1]!='_'&&a[2][i-1]!='_')sum1+=digit*7;
        else if(a[0][i]!='|'&&a[1][i]=='|'&&a[2][i]=='|')sum1+=digit*1;
        digit *=10;
    }
    digit =1;
    for(int i = 3*m-1;i>=0;i-=3){
             if(b[1][i]=='|'&&b[2][i]=='|'&&b[0][i-1]=='_'&&b[1][i-2]=='|'&&b[1][i-1]=='_'&&b[2][i-2]=='|'&&b[2][i-1]=='_')sum2+=digit*8;
        else if(b[1][i]=='|'&&b[2][i]=='|'&&b[0][i-1]=='_'&&b[1][i-2]=='|'&&b[1][i-1]=='_'&&b[2][i-1]=='_')sum2+=digit*9;
        else if(b[1][i]=='|'&&b[2][i]=='|'&&b[0][i-1]=='_'&&b[1][i-2]=='|'&&b[2][i-2]=='|'&&b[2][i-1]=='_')sum2+=digit*0;
        else if(b[1][i]=='|'&&b[2][i]!='|'&&b[0][i-1]=='_'&&b[1][i-1]=='_'&&b[2][i-2]=='|'&&b[2][i-1]=='_')sum2+=digit*2;
        else if(b[1][i]=='|'&&b[2][i]=='|'&&b[0][i-1]=='_'&&b[1][i-2]!='|'&&b[1][i-1]=='_'&&b[2][i-1]=='_')sum2+=digit*3;
        else if(b[1][i]!='|'&&b[2][i]=='|'&&b[0][i-1]=='_'&&b[1][i-2]=='|'&&b[1][i-1]=='_'&&b[2][i-2]=='|'&&b[2][i-1]=='_')sum2+=digit*6;
        else if(b[1][i]!='|'&&b[2][i]=='|'&&b[0][i-1]=='_'&&b[1][i-2]=='|'&&b[1][i-1]=='_'&&b[2][i-2]!='|'&&b[2][i-1]=='_')sum2+=digit*5;
        else if(b[1][i]=='|'&&b[2][i]=='|'&&b[0][i-1]!='_'&&b[1][i-2]=='|'&&b[1][i-1]=='_'&&b[2][i-1]!='_')sum2+=digit*4;
        else if(b[1][i]=='|'&&b[2][i]=='|'&&b[0][i-1]=='_'&&b[1][i-2]!='|'&&b[1][i-1]!='_'&&b[2][i-1]!='_')sum2+=digit*7;
        else if(b[0][i]!='|'&&b[1][i]=='|'&&b[2][i]=='|')sum2+=digit*1;
        digit *=10;
    }
    //cout<<sum1<<endl;
    //cout<<sum2<<endl;
    cout<<sum1+sum2;


}
